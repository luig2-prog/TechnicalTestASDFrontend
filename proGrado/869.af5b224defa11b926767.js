"use strict";(self.webpackChunkpro_grado=self.webpackChunkpro_grado||[]).push([[869],{9869:(F,m,l)=>{l.r(m),l.d(m,{ClienteModule:()=>j});var h=l(8583),T=l(6187),f=l(4741),u=l(4655),A=l(9824),Z=l(4762),b=l(8259),r=l.n(b),a=l(2091),g=l(4205),C=l(9692),t=l(7716),x=l(3679),v=l(3147),M=l(9258),y=l(2238),O=l(1095),w=l(1436),N=l(6627),_=l(5396);function D(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1," Identificaci\xf3n "),t.qZA())}function U(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.dsdocumento+":"+o.cddocumento)}}function R(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1," Nombre del cliente "),t.qZA())}function Y(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.dsnombreCompleto)}}function P(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1," Correo "),t.qZA())}function S(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.dsemail)}}function E(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1," tel\xe9fono "),t.qZA())}function B(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.cdtelefono)}}function Q(e,n){1&e&&(t.TgZ(0,"th",19),t._uU(1," ACCIONES "),t.qZA())}function I(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",20),t.TgZ(1,"button",21),t.NdJ("click",function(){const d=t.CHM(o).$implicit;return t.oxw().editarCliente(d)}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t.qZA(),t.TgZ(4,"span",22),t.NdJ("click",function(){const d=t.CHM(o).$implicit,p=t.MAs(6);return t.oxw().changedStatus(d,p)}),t.TgZ(5,"mat-slide-toggle",23,24),t._uU(7),t.qZA(),t.qZA(),t.qZA()}if(2&e){const o=n.$implicit;t.xp6(5),t.Q6J("checked","A"==o.cdestado),t.xp6(2),t.hij(" ","A"===o.cdestado?"Activo":"Inactivo"," ")}}function J(e,n){1&e&&t._UZ(0,"tr",25)}function k(e,n){1&e&&t._UZ(0,"tr",26)}function H(e,n){1&e&&(t.TgZ(0,"tr",27),t.TgZ(1,"td",28),t._uU(2,"No hay clientes registrados"),t.qZA(),t.qZA())}const q=function(){return[5,10,20]};class c{constructor(n,o,i,s){this.fb=n,this.sweeAlert=o,this.clienteService=i,this.dialog=s,this.dataSource=new a.by,this.displayedColumns=["identificacion","nombreCliente","telefono","correo","detalles"],this.ELEMENT_DATA=[]}ngOnInit(){this.getAll()}getAll(){this.blockUI.start("Cargando..."),this.clienteService.getaAll().subscribe(n=>{console.log(n),200==n.status?(this.ELEMENT_DATA=n.data,console.log(n),this.dataSource=new a.by(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator,this.blockUI.stop()):(this.blockUI.stop(),r().fire("",n.message,"error"))})}openDialogAdd(){this.dialog.open(g.m).afterClosed().subscribe(o=>{o&&this.getAll()})}changedStatus(n,o){this.sweeAlert.confirmacion("\xbfDeseas cambiar el estado de este cliente?").then(i=>{i.isConfirmed?(n.cdestado="I"===n.cdestado?"A":"I",this.clienteService.changedStatus(n).subscribe(s=>{r().fire(s.message,"","success"),this.getAll()},s=>{r().fire("ERROR","Error al cambiar de estado","error")})):o.checked="A"===n.cdestado})}editarCliente(n){this.dialog.open(g.m,{data:{cliente:n}}).afterClosed().subscribe(i=>{i&&this.getAll()})}}c.\u0275fac=function(n){return new(n||c)(t.Y36(x.qu),t.Y36(v.o),t.Y36(M.$),t.Y36(y.uw))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-clientes-table"]],viewQuery:function(n,o){if(1&n&&t.Gf(C.NW,5),2&n){let i;t.iGM(i=t.CRH())&&(o.paginator=i.first)}},decls:26,vars:5,consts:[[1,"toolbar-container"],["mat-raised-button","","matTooltipPosition","left",1,"addButton",3,"click"],[1,"mat-elevation-z8"],["mat-table","","aria-describedby","Tabla que lista los clinetes",3,"dataSource"],["matColumnDef","identificacion"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombreCliente"],["matColumnDef","correo"],["matColumnDef","telefono"],["matColumnDef","detalles"],["mat-header-cell","","style","text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"text-align","center"],["mat-cell","",2,"text-align","center"],["mat-icon-button","","matTooltip","Editar",3,"click"],[3,"click"],[3,"checked"],["myslide",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(n,o){1&n&&(t.TgZ(0,"section"),t.TgZ(1,"div",0),t.TgZ(2,"header"),t.TgZ(3,"button",1),t.NdJ("click",function(){return o.openDialogAdd()}),t._uU(4," Agregar cliente "),t.qZA(),t.qZA(),t.TgZ(5,"div",2),t.TgZ(6,"table",3),t.ynx(7,4),t.YNc(8,D,2,0,"th",5),t.YNc(9,U,2,1,"td",6),t.BQk(),t.ynx(10,7),t.YNc(11,R,2,0,"th",5),t.YNc(12,Y,2,1,"td",6),t.BQk(),t.ynx(13,8),t.YNc(14,P,2,0,"th",5),t.YNc(15,S,2,1,"td",6),t.BQk(),t.ynx(16,9),t.YNc(17,E,2,0,"th",5),t.YNc(18,B,2,1,"td",6),t.BQk(),t.ynx(19,10),t.YNc(20,Q,2,0,"th",11),t.YNc(21,I,8,2,"td",12),t.BQk(),t.YNc(22,J,1,0,"tr",13),t.YNc(23,k,1,0,"tr",14),t.YNc(24,H,3,0,"tr",15),t.qZA(),t._UZ(25,"mat-paginator",16),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(6),t.Q6J("dataSource",o.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,q)))},directives:[O.lW,a.BZ,a.w1,a.fO,a.Dz,a.as,a.nj,a.Ee,C.NW,a.ge,a.ev,w.gM,N.Hw,_.Rr,a.XQ,a.Gk],styles:[".mat-form-field-flex>.mat-form-field-infix{padding:.4em 0!important}  .mat-form-field-label-wrapper{top:-1.5em}  .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{transform:translateY(-1.1em) scale(.75);width:133.33333%}.row[_ngcontent-%COMP%], .rowI[_ngcontent-%COMP%]{display:flex;margin:0 auto;justify-content:space-between}.row[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:23%}.rowI[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%], #consultar[_ngcontent-%COMP%]{width:18%}.accordion[_ngcontent-%COMP%]{width:97%;margin:auto}th.mat-header-cell[_ngcontent-%COMP%]{background-color:#0e314f}.mat-header-cell[_ngcontent-%COMP%]{color:#fff}header[_ngcontent-%COMP%]{padding:2% 24px 16px;margin:auto;display:flex;justify-content:flex-end;align-items:center}.mat-elevation-z8[_ngcontent-%COMP%]{margin:auto;width:97%}table[_ngcontent-%COMP%]{width:100%}.addButton[_ngcontent-%COMP%]{width:15%;background-color:#27c34a;color:#fff;height:min-content}#consultar[_ngcontent-%COMP%]{width:7.5%;background-color:#27c34a;color:#fff;height:min-content}#limpiar[_ngcontent-%COMP%]{width:7.5%;height:min-content}"]}),(0,Z.gn)([(0,f.bH)()],c.prototype,"blockUI",void 0);const z=[{path:"",component:A.M,children:[{path:"",component:c}]}];let $=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.Bz.forChild(z)],u.Bz]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[h.ez,$,T.q,f.uh.forRoot()]]}),e})()}}]);